<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from byrushan.com/projects/super-admin/app/2.1.2/empty.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 04 Jul 2018 12:19:30 GMT -->
<head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link rel="stylesheet" href="static/vendors/bower_components/material-design-iconic-font/dist/css/material-design-iconic-font.min.css">
        <link rel="stylesheet" href="static/vendors/bower_components/animate.css/animate.min.css">
        <link rel="stylesheet" href="static/vendors/bower_components/jquery.scrollbar/jquery.scrollbar.css">
        <link rel="stylesheet" href="static/vendors/bower_components/dropzone/dist/dropzone.css">
        <link rel="stylesheet" href="static/vendors/bower_components/select2/dist/css/select2.min.css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/core.js">
        <script src="{{ url_for('static', filename='js/jquery-1.8.1.min.js') }}"></script>
	    <script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
	    <script src="{{ url_for('static', filename='js/jquery.dataTables.min.js') }}"></script>
	    
	     <!-- App styles -->
        <link rel="stylesheet" href="static/css/app.min.css">
        <style>
        .my-input-class {
            padding: 3px 6px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .my-confirm-class {
            padding: 3px 6px;
            font-size: 12px;
            color: white;
            text-align: center;
            vertical-align: middle;
            border-radius: 4px;
            background-color: #337ab7;
            text-decoration: none;
        }

        .my-cancel-class {
            padding: 3px 6px;
            font-size: 12px;
            color: white;
            text-align: center;
            vertical-align: middle;
            border-radius: 4px;
            background-color: #a94442;
            text-decoration: none;
        }

        .error {
            border: solid 1px;
            border-color: #a94442;
        }

        .destroy-button{
            padding:5px 10px 5px 10px;
            border: 1px blue solid;
            background-color:lightgray;
        }
    </style>
    </head>

    <body data-sa-theme="10">
        <main class="main">
            <div class="page-loader">
                <div class="page-loader__spinner">
                    <svg viewBox="25 25 50 50">
                        <circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />
                    </svg>
                </div>
            </div>

            <header class="header">
                <div class="navigation-trigger hidden-xl-up" data-sa-action="aside-open" data-sa-target=".sidebar">
                    <i class="zmdi zmdi-menu"></i>
                </div>

                <div class="logo hidden-sm-down">
                    <h1><a href="#">MSypher 1.0</a></h1>
                </div>

                <ul class="top-nav">
                    <li class="hidden-xl-up"><a href="#" data-sa-action="search-open"><i class="zmdi zmdi-search"></i></a></li>

                    <li class="hidden-xs-down">
                        <a href="#" class="top-nav__themes" data-sa-action="aside-open" data-sa-target=".themes"><i class="zmdi zmdi-palette"></i></a>
                    </li>
                </ul>

                <div class="clock hidden-md-down">
                    <div class="time">
                        <span class="time__hours"></span>
                        <span class="time__min"></span>
                        <span class="time__sec"></span>
                    </div>
                </div>
            </header>

            <aside class="sidebar">
                <div class="scrollbar-inner">
                    <div class="user">
                        <div class="user__info" data-toggle="dropdown" style="display: flex; justify-content: center;">
                            <img class="user__img" src="static/demo/img/profile-pics/4.jpg" alt="">
                        </div>

                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="{{ip}}/">Logout</a>
                        </div>
                    </div>
                    <ul class="navigation">
                        <li class="@@indexactive"><a href="#"><i class="zmdi zmdi-home"></i> Home</a></li>

                        <li class="@@indexactive">
                        <a href="/output"><i class="zmdi zmdi-view-list"></i> Results</a></li>

                        <li class="navigation__sub navigation__sub--active navigation__sub--toggled">
                        <a href="/withoutinventory"><i class="zmdi zmdi-view-list"></i> Results without Inventory</a></li>

                        <li class="@@indexactive"><a href="/channelwisesummary"><i class="zmdi zmdi-view-list"></i> Channelwise Summary</a></li>

                        <li class="@@indexactive" id="convertedspotsli"><a href="/convertedspots"><i class="zmdi zmdi-view-list"></i> Converted Spots</a></li>
                    </ul>
                </div>
            </aside>

            <div class="themes">
    <div class="scrollbar-inner">
        <a href="#" class="themes__item" data-sa-value="1"><img src="static/img/bg/1.jpg" alt=""></a>
        <a href="#" class="themes__item" data-sa-value="2"><img src="static/img/bg/2.jpg" alt=""></a>
        <a href="#" class="themes__item" data-sa-value="3"><img src="static/img/bg/3.jpg" alt=""></a>
        <a href="#" class="themes__item" data-sa-value="4"><img src="static/img/bg/4.jpg" alt=""></a>
        <a href="#" class="themes__item" data-sa-value="5"><img src="static/img/bg/5.jpg" alt=""></a>
        <a href="#" class="themes__item" data-sa-value="6"><img src="static/img/bg/6.jpg" alt=""></a>
        <a href="#" class="themes__item" data-sa-value="7"><img src="static/img/bg/7.jpg" alt=""></a>
        <a href="#" class="themes__item" data-sa-value="8"><img src="static/img/bg/8.jpg" alt=""></a>
        <a href="#" class="themes__item" data-sa-value="9"><img src="static/img/bg/9.jpg" alt=""></a>
        <a href="#" class="themes__item active" data-sa-value="10"><img src="static/img/bg/10.jpg" alt=""></a>
    </div>
</div>

            <section class="content">

                 <style>
        .my-input-class {
            padding: 3px 6px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .my-confirm-class {
            padding: 3px 6px;
            font-size: 12px;
            color: white;
            text-align: center;
            vertical-align: middle;
            border-radius: 4px;
            background-color: #337ab7;
            text-decoration: none;
        }

        .my-cancel-class {
            padding: 3px 6px;
            font-size: 12px;
            color: white;
            text-align: center;
            vertical-align: middle;
            border-radius: 4px;
            background-color: #a94442;
            text-decoration: none;
        }
        </style>

 <input type="button" class="btn btn-light btn-block" value="Submit changes to database" id="btnFirstGenerateJson" />
                <script>


                 </script>

                  <script>



function setupData() {

    $(document).ready(function () {

$(function () {
            
            $("[id*=btnFirstGenerateJson]").click(function () {
                var array1 = [];
                $("#example TBODY TR").each(function (index) {
                        var row =$(this)
                        var firstTableData = {};
                        var count = 0;
                        
                        {% for s in dfcols %}
                        firstTableData["{{s}}"] = $(this).find('td').eq(count).text().trim();
                        count++;
                        {% endfor %}
                        array1.push(firstTableData);
                });
                alert(JSON.stringify(array1));
                 $.ajax({
                type: "POST",
                url: "/updatedoptimizer",
                data: JSON.stringify(array1),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (r) {
                    alert(r + " record(s) inserted.");
                }
            });
            });


        });
       var table = $('#example').DataTable({
            "paging": false,
            "ajax": {
                "url": "/optimizer_json", // This now also works
                "dataType": "json",
                "dataSrc": "data",
                "contentType":"application/json"
            },
            "columns": [
                {% for s in dfcols %}
                {'data': "{{s}}"},
                {% endfor %}              
            ]
        });
        table.MakeCellsEditable({
        "onUpdate": myCallbackFunction,
            "confirmationButton": { // could also be true
            "confirmCss": 'my-confirm-class',
            "cancelCss": 'my-cancel-class',
                stateSave: true
        }
      });
      
    function myCallbackFunction (updatedCell, updatedRow, oldValue) {
    console.log("The new value for the cell is: " + updatedCell.data());
    console.log("The old value for that cell was: " + oldValue);
    console.log("The values for each cell in that row are: " + updatedRow.data());
    return JSON.stringify(example);
    print(JSON.stringify(console.log(example)));
}
    });


    $(document).ready(function(){
    $("button").click(function(){
        $.post("update",
        {
          name: "Donald Duck",
          city: "Duckburg"
        },
        function(data,status){
            var table = $('#example');
            alert("Data: " + JSON.stringify(table.rows) + "\nStatus: " + status);
        });
    });
});
}

$( window ).on( "load", setupData );




</script>

        <div class="card">
            <div class="card-body">
                <div class="table-responsive">
                	<table id="example" class="table no-footer dataframe table-striped" style="display:block;overflow:auto" >
                    <thead>
                        <tr>
                        {% for s in dfcols %}
                        <th>{{s}}</th>
                        {% endfor %}
                        </tr>
                    </thead>
                    <tfoot>
                        <tr>
                        {% for s in dfcols %}
                        <th>{{s}}</th>
                        {% endfor %}            
                        </tr>
                    </tfoot>
                   </table>
                </div>
            </div>
        </div>
                
            </section>
        </main>

        <!-- Older IE warning message -->
            <!--[if IE]>
                <div class="ie-warning">
                    <h1>Warning!!</h1>
                    <p>You are using an outdated version of Internet Explorer, please upgrade to any of the following web browsers to access this website.</p>

                    <div class="ie-warning__downloads">
                        <a href="http://www.google.com/chrome">
                            <img src="img/browsers/chrome.png" alt="">
                        </a>

                        <a href="https://www.mozilla.org/en-US/firefox/new">
                            <img src="img/browsers/firefox.png" alt="">
                        </a>

                        <a href="http://www.opera.com">
                            <img src="img/browsers/opera.png" alt="">
                        </a>

                        <a href="https://support.apple.com/downloads/safari">
                            <img src="img/browsers/safari.png" alt="">
                        </a>

                        <a href="https://www.microsoft.com/en-us/windows/microsoft-edge">
                            <img src="img/browsers/edge.png" alt="">
                        </a>

                        <a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie">
                            <img src="img/browsers/ie.png" alt="">
                        </a>
                    </div>
                    <p>Sorry for the inconvenience!</p>
                </div>
            <![endif]-->

        <!-- Javascript -->
        <!-- Vendors -->
        <script src="static/vendors/bower_components/jquery/dist/jquery.min.js"></script>
        <script src="static/vendors/bower_components/popper.js/dist/umd/popper.min.js"></script>
        <script src="static/vendors/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="static/vendors/bower_components/jquery.scrollbar/jquery.scrollbar.min.js"></script>
        <script src="static/vendors/bower_components/jquery-scrollLock/jquery-scrollLock.min.js"></script>
        <script src="static/vendors/bower_components/dropzone/dist/min/dropzone.min.js"></script>
        <script src="static/vendors/bower_components/select2/dist/js/select2.full.min.js"></script>
      <!-- Vendors: Data tables -->
      <!--<script src="https://code.jquery.com/jquery-1.12.2.min.js" integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk=" crossorigin="anonymous"></script>-->
      <!--<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>-->
      <!--<script src="http://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>-->




        <script src="static/vendors/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
        <script src="static/vendors/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
        <script src="static/vendors/bower_components/datatables.net-buttons/js/buttons.print.min.js"></script>
        <script src="static/vendors/bower_components/jszip/dist/jszip.min.js"></script>
        <script src="static/vendors/bower_components/datatables.net-buttons/js/buttons.html5.min.js"></script>
        <!-- App functions and actions -->

        <!--<script src="https://code.jquery.com/jquery-1.12.2.min.js" integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk=" crossorigin="anonymous"></script>-->
       
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
        <script src="http://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>
        <script src="static/js/app.min.js"></script>
        <script src="static/js/dataTables.cellEdit.js"></script>
         <script src="static/js/advanced.js"></script>
    </body>

<!-- Mirrored from byrushan.com/projects/super-admin/app/2.1.2/empty.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 04 Jul 2018 12:19:30 GMT -->
</html>